\documentclass[../../sets-and-functions.ftl.tex]{subfiles}

\typeout{
  \begin{forthel}
    [readtex FLib/BasicNotions/src/sets-and-functions/sections/01_sets/02_powerset.ftl.tex]

    [checkconsistency off]

    Let $u,v,w$ denote elements.
    Let $x,y,z$ denote sets.
  \end{forthel}
}

\begin{document}
  \section{Ordered pairs and Cartesian products}

  \begin{forthel}
    Let $u',v',w'$ denote elements.
    Let $x',y',z'$ denote sets.
  \end{forthel}


  \subsection{Ordered pairs}

  Note that Naproche provides an built-in function symbol $(\cdot,\cdot)$, i.e. for any two objects $a,b$ there is an object $(a,b)$.

  \begin{forthel}
    \begin{axiom}
      $(u,v) = \set{\set{u}, \set{u,v}}$.
    \end{axiom}

    \begin{proposition}[SF 01 05 366682]
      Let $u,v$ be elements.
      Then $(u,v)$ is an element.
    \end{proposition}
    \begin{proof}
      $\set{u}$ and $\set{u,v}$ are elements.
      Hence $(u,v) = \set{\set{u}, \set{u,v}}$.
      Thus $(u,v)$ is an element.
    \end{proof}

    \begin{proposition}[SF 01 05 270653]
      If $(u,v) = (u',v')$ then $u = u'$ and $v = v'$.
    \end{proposition}
    \begin{proof}
      Assume $(u,v) = (u',v')$.
      (1) Then $\set{\set{u}, \set{u,v}} = \set{\set{u'}, \set{u',v'}}$.
      Hence ($\set{u} = \set{u'}$ or $\set{u} = \set{u',v'}$) and ($\set{u,v} = \set{u'}$ or $\set{u,v} = \set{u',v'}$).
      Thus ($\set{u} = \set{u'}$ and ($\set{u,v} = \set{u'}$ or $\set{u,v} = \set{u',v'}$)) or ($\set{u} = \set{u',v'}$ and ($\set{u,v} = \set{u'}$ or $\set{u,v} = \set{u',v'}$)).

      Case $\set{u} = \set{u'}$ and ($\set{u,v} = \set{u'}$ or $\set{u,v} = \set{u',v'}$).
        We have $\set{u} = \set{u'}$.
        Hence $u = u'$.

        Case $\set{u,v} = \set{u'}$.
          Then $u = u'= v$.
          Hence $\set{\set{u}, \set{u,u}} = \set{\set{u}, \set{u,v'}}$ (by 1).
          Thus $\set{\set{u}} = \set{\set{u}, \set{u,v'}}$.
          Therefore $\set{u} = \set{u,v'}$.
          Consequently $v' = u = v$.
        End.

        Case $\set{u,v} = \set{u',v'}$.
          Then $\set{u,v} = \set{u,v'}$.
          Hence $v = v'$.
        End.
      End.

      Case $\set{u} = \set{u',v'}$ and ($\set{u,v} = \set{u'}$ or $\set{u,v} = \set{u',v'}$).
        We have $\set{u} = \set{u',v'}$.
        Hence $u = u'$.

        Case $\set{u,v} = \set{u'}$.
          Then $u = v = u'$.
          Hence $v = v'$.
        End.

        Case $\set{u,v} = \set{u',v'}$.
          Then $\set{u,v} = \set{u,v'}$.
          Hence $v = v'$.
        End.
      End.
    \end{proof}
  \end{forthel}


  \subsection{Cartesian products}

  \begin{forthel}
    \begin{lemma}
      There exists a set $z$ such that $z = \{ (u,v) \mid u \in x "and" v \in y \}$.
    \end{lemma}
    \begin{proof}
      (1) Define $z = \{ (u,v) \mid u \in x "and" v \in y \}$.
      Take $z' = \pow(\pow(x \cup y))$.
      Then $z'$ is a set.

      Let us show that every element of $z$ is contained in $z'$.
        Let $w \in z$.
        Take elements $u,v$ such that $w = (u,v)$.
        Then $u \in x$ and $v \in y$.
        Hence $\set{u}$ and $\set{u,v}$ are subsets of $x \cup y$.
        Thus $\set{u}$ and $\set{u,v}$ are elements of $\pow(x \cup y)$.
        Therefore $w = \set{\set{u}, \set{u,v}} \subseteq \pow(x \cup y)$.
        Consequently $w \in \pow(\pow(x \cup y)) = z'$.
      End.

      Hence $z$ is a set (by separation).
      Therefore the thesis (by 1).
    \end{proof}

    \begin{definition}
      $x \times y$ is the set $z$ such that $z = \{ (u,v) \mid u \in x "and" v \in y \}$.
    \end{definition}

    Let the Cartesian product of $x$ and $y$ stand for $x \times y$.

    \begin{proposition}[SF 01 05 773790]
      $(u,v) \in x \times y$ iff $u \in x$ and $v \in y$.
    \end{proposition}
    \begin{proof}
      Case $(u,v) \in x \times y$.
        Assume $(u,v) \in x \times y$.
        We can take $u' \in x$ and $v' \in y$ such that $(u,v) = (u',v')$.
        Then $u = u'$ and $v = v'$.
        Hence $u \in x$ and $v \in y$.
      End.

      Case $u \in x$ and $v \in y$.
        $u$ and $v$ are elements.
        Hence $(u,v)$ is an element.
        Therefore $(u,v) \in x \times y$.
        Indeed $x \times y = \{ (u',v') \mid u' \in x "and" v' \in y \}$.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 279635]
      $x \times y$ is empty iff $x$ is empty or $y$ is empty.
    \end{proposition}
    \begin{proof}
      Case $x \times y$ is empty.
        Assume that $x$ and $y$ are nonempty.
        Thus we can take an element $u$ of $x$ and an element $v$ of $y$.
        Then $(u,v)$ is an element of $x \times y$.
        Contradiction.
      End.

      Case $x$ is empty or $y$ is empty.
        Assume that $x \times y$ is nonempty.
        Then we can take an element $z$ of $x \times y$.
        Then $z = (u,v)$ for some $u \in x$ and some $v \in y$.
        Hence $x$ and $y$ are nonempty.
        Contradiction.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 784919]
      $\set{u} \times \set{v} = \set{(u,v)}$.
    \end{proposition}
    \begin{proof}
      Let us show that $\set{u} \times \set{v} \subseteq \set{(u,v)}$.
        Let $w \in \set{u} \times \set{v}$.
        Take $a \in \set{u}$ and $b \in \set{v}$ such that $w = (a,b)$.
        We have $a = u$ and $b = v$.
        Hence $w = (u,v)$.
        Thus $w \in \set{(u,v)}$.
      End.

      Let us show that $\set{(u,v)} \subseteq \set{u} \times \set{v}$.
        Let $w \in \set{(u,v)}$.
        Then $w = (u,v)$.
        We have $u \in \set{u}$ and $v \in \set{v}$.
        Hence $w \in \set{u} \times \set{v}$.
      End.
    \end{proof}
  \end{forthel}


  \subsection{Computation laws}

  \begin{forthel}
    \begin{proposition}[SF 01 05 197314]
      $$x \subseteq y \implies x \times z \subseteq y \times z.$$
    \end{proposition}
    \begin{proof}
      Assume $x \subseteq y$.
      Let $w \in x \times z$.
      Take $u \in x$ and $v \in z$ such that $w = (u,v)$.
      Then $u \in y$.
      Hence $(u,v) \in y \times z$.
    \end{proof}

    \begin{proposition}[SF 01 05 238807]
      Assume that $x$ and $x'$ are nonempty.
      $$(x \times x') \subseteq (y \times y') \iff (x \subseteq y "and" x' \subseteq y').$$
    \end{proposition}
    \begin{proof}
      Case $(x \times x') \subseteq (y \times y')$.
        Let us show that for all $u \in x$ and all $v \in x'$ we have $u \in y$ and $v \in y'$.
          Let $u \in x$ and $v \in x'$.
          Then $(u,v) \in x \times x'$.
          Hence $(u,v) \in y \times y'$.
          Thus $u \in y$ and $v \in y'$.
        End.
      End.

      Case $x \subseteq y$ and $x' \subseteq y'$.
        Let $w \in x \times x'$.
        Take $u \in x$ and $v \in x'$ such that $w = (u,v)$.
        Then $u \in y$ and $v \in y'$.
        Hence $(u,v) \in y \times y'$.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 138531]
      $$((x \cup y) \times z) = (x \times z) \cup (y \times z).$$
    \end{proposition}
    \begin{proof}
      Let us show that $((x \cup y) \times z) \subseteq (x \times z) \cup (y \times z).$
        Let $w \in (x \cup y) \times z$.
        Take $u \in x \cup y$ and $v \in z$ such that $w = (u,v)$.
        Then $u \in x$ or $u \in y$.
        If $u \in x$ then $w \in x \times z$ and if $u \in y$ then $w \in y \times z$.
        Hence $w \in x \times z$ or $w \in y \times z$.
        Thus $w \in (x \times z) \cup (y \times z)$.
      End.

      Let us show that $((x \times z) \cup (y \times z)) \subseteq (x \cup y) \times z$.
        Let $w \in (x \times z) \cup (y \times z)$.
        Then $w \in x \times z$ or $w \in y \times z$.
        Take elements $u,v$ such that $w = (u,v)$.
        Then ($u \in x$ or $u \in y$) and $v \in z$.
        Hence $u \in x \cup y$.
        Thus $w \in (x \cup y) \times z$.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 575129]
      $$x \times (y \cup z) = (x \times y) \cup (x \times z).$$
    \end{proposition}
    \begin{proof}
      Let us show that $x \times (y \cup z) \subseteq (x \times y) \cup (x \times z)$.
        Let $w \in x \times (y \cup z)$.
        Take $u \in x$ and $v \in y \cup z$ such that $w = (u,v)$.
        Then $v \in y$ or $v \in z$.
        Hence $w \in x \times y$ or $w \in x \times z$.
        Indeed if $v \in y$ then $w \in x \times y$ and if $v \in z$ then $w \in x \times z$.
        Thus $w \in (x \times y) \cup (x \times z)$.
      End.

      Let us show that $((x \times y) \cup (x \times z)) \subseteq x \times (y \cup z)$.
        Let $w \in (x \times y) \cup (x \times z)$.
        Then $w \in x \times y$ or $w \in x \times z$.
        Take elements $u,v$ such that $w = (u,v)$.
        Then $u \in x$ and ($v \in y$ or $v \in z$).
        Hence $w \in x \times (y \cup z)$.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 811990]
      $$((x \cap y) \times z) = (x \times z) \cap (y \times z).$$
    \end{proposition}
    \begin{proof}
      Let us show that $((x \cap y) \times z) \subseteq (x \times z) \cap (y \times z).$
        Let $w \in (x \cap y) \times z$.
        Take $u \in x \cap y$ and $v \in z$ such that $w = (u,v)$.
        Then $u \in x$ and $u \in y$.
        Hence $w \in x \times z$ and $w \in y \times z$.
        Thus $w \in (x \times z) \cap (y \times z)$.
      End.

      Let us show that $((x \times z) \cap (y \times z)) \subseteq (x \cap y) \times z$.
        Let $w \in (x \times z) \cap (y \times z)$.
        Then $w \in x \times z$ and $w \in y \times z$.
        Take elements $u,v$ such that $w = (u,v)$.
        Then ($u \in x$ and $u \in y$) and $v \in z$.
        Hence $u \in x \cap y$.
        Thus $w \in (x \cap y) \times z$.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 427022]
      $$x \times (y \cap z) = (x \times y) \cap (x \times z).$$
    \end{proposition}
    \begin{proof}
      Let us show that $x \times (y \cap z) \subseteq (x \times y) \cap (x \times z)$.
        Let $w \in x \times (y \cap z)$.
        Take $u \in x$ and $v \in y \cap z$ such that $w = (u,v)$.
        Then $v \in y$ and $v \in z$.
        Hence $w \in x \times y$ and $w \in x \times z$.
        Thus $w \in (x \times y) \cap (x \times z)$.
      End.

      Let us show that $((x \times y) \cap (x \times z)) \subseteq x \times (y \cap z)$.
        Let $w \in (x \times y) \cap (x \times z)$.
        Then $w \in x \times y$ and $w \in x \times z$.
        Take elements $u,v$ such that $w = (u,v)$.
        Then $u \in x$ and ($v \in y$ and $v \in z$).
        Hence $w \in x \times (y \cap z)$.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 517847]
      $$((x \setminus y) \times z) = (x \times z) \setminus (y \times z).$$
    \end{proposition}
    \begin{proof}
      Let us show that $((x \setminus y) \times z) \subseteq (x \times z) \setminus (y \times z).$
        Let $w \in (x \setminus y) \times z$.
        Take $u \in x \setminus y$ and $v \in z$ such that $w = (u,v)$.
        Then $u \in x$ and $u \notin y$.
        Hence $w \in x \times z$ and $w \notin y \times z$.
        Thus $w \in (x \times z) \setminus (y \times z)$.
      End.

      Let us show that $((x \times z) \setminus (y \times z)) \subseteq (x \setminus y) \times z$.
        Let $w \in (x \times z) \setminus (y \times z)$.
        Then $w \in x \times z$ and $w \notin y \times z$.
        Take $u \in x$ and $v \in z$ such that $w = (u,v)$.
        Then $u \notin y$.
        Indeed if $u \in y$ then $w \in y \times z$.
        Hence $u \in x \setminus y$.
        Thus $w \in (x \setminus y) \times z$.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 773842]
      $$x \times (y \setminus z) = (x \times y) \setminus (x \times z).$$
    \end{proposition}
    \begin{proof}
      Let us show that $x \times (y \setminus z) \subseteq (x \times y) \setminus (x \times z)$.
        Let $w \in x \times (y \setminus z)$.
        Take $u \in x$ and $v \in y \setminus z$ such that $w = (u,v)$.
        Then $v \in y$ and $v \notin z$.
        Hence $w \in x \times y$ and $w \notin x \times z$.
        Thus $w \in (x \times y) \setminus (x \times z)$.
      End.

      Let us show that $((x \times y) \setminus (x \times z)) \subseteq x \times (y \setminus z)$.
        Let $w \in (x \times y) \setminus (x \times z)$.
        Then $w \in x \times y$ and $w \notin x \times z$.
        Take elements $u,v$ such that $w = (u,v)$.
        Then $u \in x$ and ($v \in y$ and $v \notin z$).
        Hence $w \in x \times (y \setminus z)$.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 472623]
      Assume that $x$ and $x'$ are nonempty or $y$ and $y'$ are nonempty.
      $$(x \times x') = (y \times y') \iff (x = y "and" x' = y').$$
    \end{proposition}
    \begin{proof}
      Case $x \times x' = y \times y'$.
        Then $x$ and $x'$ are nonempty iff $y$ and $y'$ are nonempty.

        Let us show that for all $u \in x$ and all $v \in x'$ we have $u \in y$ and $v \in y'$.
          Let $u \in x$ and $v \in x'$.
          Then $(u,v) \in x \times x'$.
          Hence we can take $w \in y \times y'$ such that $w = (u,v)$.
          Thus $u \in y$ and $v \in y'$.
        End.

        Therefore $x \subseteq y$ and $x' \subseteq y'$.
        Indeed $x$ and $x'$ are nonempty.

        Let us show that for all $u \in y$ and all $v \in y'$ we have $u \in x$ and $v \in x'$.
          Let $u \in y$ and $v \in y'$.
          Then $(u,v) \in y \times y'$.
          Hence we can take $w \in x \times x'$ such that $w = (u,v)$.
          Thus $(u,v) \in x \times x'$.
        End.

        Therefore $y \subseteq x$ and $y' \subseteq x'$.
        Indeed $y$ and $y'$ are nonempty.
      End.

      Case $x = y$ and $x' = y'$. Trivial.
    \end{proof}

    \begin{proposition}[SF 01 05 261950]
      $$((x \times y) \cap (x' \times y')) = (x \cap x') \times (y \cap y').$$
    \end{proposition}
    \begin{proof}
      Let us show that $((x \times y) \cap (x' \times y')) \subseteq (x \cap x') \times (y \cap y')$.
        Let $w \in (x \times y) \cap (x' \times y')$.
        Then $w \in x \times y$ and $w \in x' \times y'$.
        Take elements $u,v$ such that $w = (u,v)$.
        Then $u \in x,x'$ and $v \in y,y'$.
        Hence $u \in x \cap x'$ and $v \in y \cap y'$.
        Thus $w \in (x \cap x') \times (y \cap y')$.
      End.

      Let us show that $(x \cap x') \times (y \cap y') \subseteq (x \times y) \cap (x' \times y')$.
        Let $w \in (x \cap x') \times (y \cap y')$.
        Take elements $u,v$ such that $w = (u,v)$.
        Then $u \in x \cap x'$ and $v \in y \cap y'$.
        Hence $u \in x,x'$ and $v \in y,y'$.
        Thus $w \in x \times y$ and $w \in x' \times y'$.
        Therefore $w \in (x \times y) \cap (x' \times y')$.
      End.
    \end{proof}

    \begin{proposition}[SF 01 05 687547]
      $$((x \times y) \cup (x' \times y')) \subseteq (x \cup x') \times (y \cup y').$$
    \end{proposition}
    \begin{proof}
      Let $w \in (x \times y) \cup (x' \times y')$.
      Then $w \in x \times y$ or $w \in x' \times y'$.
      Take elements $u,v$ such that $w = (u,v)$.
      Then ($u \in x$ or $u \in x'$) and ($v \in y$ or $v \in y'$).
      Hence $u \in x \cup x'$ and $v \in y \cup y'$.
      Thus $w \in (x \cup x') \times (y \cup y')$.
    \end{proof}

    \begin{proposition}[SF 01 05 247770]
      $$((x \times y) \setminus (x' \times y')) = (x \times (y \setminus y')) \cup ((x \setminus x') \times y).$$
    \end{proposition}
    \begin{proof}
      Let us show that $((x \times y) \setminus (x' \times y')) \subseteq (x \times (y \setminus y')) \cup ((x \setminus x') \times y)$.
        Let $w \in (x \times y) \setminus (x' \times y')$.
        Then $w \in x \times y$ and $w \notin x' \times y'$.
        Take $u \in x$ and $v \in y$ such that $w = (u,v)$.
        Then it is wrong that $u \in x'$ and $v \in y'$.
        Hence $u \notin x'$ or $v \notin y'$.
        Thus $u \in x \setminus x'$ or $v \in y \setminus y'$.
        Therefore $w \in x \times (y \setminus y')$ or $w \in (x \setminus x') \times y$.
        Hence we have $w \in (x \times (y \setminus y')) \cup ((x \setminus x') \times y)$.
      End.

      Let us show that $(x \times (y \setminus y')) \cup ((x \setminus x') \times y) \subseteq (x \times y) \setminus (x' \times y')$.
        Let $w \in (x \times (y \setminus y')) \cup ((x \setminus x') \times y)$.
        Then $w \in (x \times (y \setminus y'))$ or $w \in ((x \setminus x') \times y)$.
        Take elements $u,v$ such that $w = (u,v)$.
        Then ($u \in x$ and $v \in y \setminus y'$) or ($u \in x \setminus x'$ and $v \in y$).

        Case $u \in x$ and $v \in y \setminus y'$.
          Then $u \in x$ and $v \in y$.
          Hence $w \in x \times y$.
          We have $v \notin y'$.
          Thus $w \notin x' \times y'$.
          Therefore $w \in (x \times y) \setminus (x' \times y')$.
        End.

        Case $u \in x \setminus x'$ and $v \in y$.
          Then $u \in x$ and $v \in y$.
          Hence $w \in x \times y$.
          We have $u \notin x'$.
          Thus $w \notin x' \times y'$.
          Therefore $w \in (x \times y) \setminus (x' \times y')$.
        End.
      End.
    \end{proof}
  \end{forthel}
\end{document}
